<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: project/NotificationManager.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: project/NotificationManager.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @module NotificationManager
 * @description Specifies files and functionalities of a PVSio-web project.
 * @version 1.0
 * @author Patrick Oladimeji
 * @date 9/12/14 13:38:02 PM
 */
/*jslint vars: true, plusplus: true, devel: true, nomen: true, indent: 4, maxerr: 50 */
/*global define, require, d3, window */
define(function (require, exports, module) {
	"use strict";
    var Logger = require("util/Logger");
	var notifications = [], fadeDuration = 5000;
	function _showSelfDestructingNotification() {
        var notifyDiv = d3.select("#project-notifications"),
            alertDiv = notifyDiv.select("div.alert");
        var height = notifyDiv.node().getBoundingClientRect().height;
		notifyDiv//.style("margin-top", (-1 * height) + "px")
            .style("display", "block");
		notifyDiv.transition().duration(200).style("margin-top", "0px")
            .each("end", function () {
                notifyDiv.transition().delay(fadeDuration).duration(200)//.style("margin-top", (-1 * height) + "px")
                    .style("display", "none")
                    .each("start", function () {
                        if (notifyDiv.node().getBoundingClientRect().height &lt; 1) {
                            notifyDiv.interrupt().transition();
                        }
                    })
                    .each("end", function () {
                        notifyDiv.style("display", "none");
                        alertDiv.remove();
                        notifyDiv.html("");
                    });
            });
    }
    
    // newest notifications are at the top
	function show(msg) {
		var date = new Date();
		notifications.push({time: date, message: msg});
		var notifyDiv = d3.select("#project-notifications").style("display", "block");
		var alertDiv = notifyDiv.insert("div", "div").attr("class", "alert alert-info").attr("role", "alert");
		alertDiv.append("button").attr("type", "button")
			.attr("class", "close").attr("data-dismiss", "alert")
			.append("span").attr("aria-hidden", "true").html("&amp;times;");
		alertDiv.append("p").html(msg);
        Logger.log(date + "&lt;/br>" + msg);
        _showSelfDestructingNotification();
	}
	
    // newest notifications are at the top
	function error(msg) {
		var date = new Date();
		notifications.push({time: date, message: msg});
		var notifyDiv = d3.select("#project-notifications");
		var alertDiv = notifyDiv.insert("div", "div").attr("class", "alert alert-danger").attr("role", "alert");
		alertDiv.append("button").attr("type", "button")
			.attr("class", "close").attr("data-dismiss", "alert")
			.append("span").attr("aria-hidden", "true").html("&amp;times;");
		alertDiv.append("p").html(msg);
        Logger.error(date + "&lt;/br>" + msg);
		_showSelfDestructingNotification();
	}
	
	module.exports = {
		show: show,
		error: error
	};
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Descriptor.html">Descriptor</a></li><li><a href="module-Emucharts.html">Emucharts</a></li><li><a href="module-NotificationManager.html">NotificationManager</a></li><li><a href="module-Project.html">Project</a></li><li><a href="module-ProjectManager.html">ProjectManager</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-dev</a> on Wed Jan 07 2015 22:53:31 GMT-0000 (GMT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
